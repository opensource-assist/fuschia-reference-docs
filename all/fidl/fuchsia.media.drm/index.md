Project: /_project.yaml
Book: /_book.yaml

# fuchsia.media.drm


## **PROTOCOLS**

## ContentDecryptionModule {:#ContentDecryptionModule}
*Defined in [fuchsia.media.drm/content_decryption.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/content_decryption.fidl#44)*

 A protocol for managing content license sessions and providing decryption of
 media content. There may be zero to many active <a class='link' href='#LicenseSession'>LicenseSession</a>s
 associated with a `ContentDecryptionModule`, each with their own sets of
 keys.

 From an EME client's perspective, this protocol has a 1:1 relationship with
 the MediaKeys object.

### OnProvisioned {:#OnProvisioned}

 Indicates that the `ContentDecryptionModule` is provisioned.

 In order to create `LicenseSession`s, a `ContentDecryptionModule` must
 be provisioned. A `ContentDecryptionModule` is not considered
 provisioned until it meets the requirements for the underlying DRM
 system. The DRM system may not require provisioning, may only require
 factory provisioning or may require both factory provisioning and
 service instance provisioning.

 If the `ContentDecryptionModule` has already has sufficient
 provisioning, this event will be sent immediately upon creation. If the
 `ContentDecryptionModule` has its provisioning removed, then the server
 will close the channel and also close any active `LicenseSession`s or
 Decryptors.

 If the DRM system does not require provisioning at all, this
 event should still be sent to notify the client that it can create
 `LicenseSession`s.



#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    </table>

### SetServerCertificate {:#SetServerCertificate}

 Sets the certificate to be used for encrypting outgoing messages.

 + request `certificate` a buffer containing the certificate to be used.
 * error an <a class='link' href='#Error'>Error</a> indicating the reason for failure.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>certificate</code></td>
            <td>
                <code>vector&lt;uint8&gt;</code>
            </td>
        </tr></table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>result</code></td>
            <td>
                <code><a class='link' href='#ContentDecryptionModule_SetServerCertificate_Result'>ContentDecryptionModule_SetServerCertificate_Result</a></code>
            </td>
        </tr></table>

### CreateLicenseSession {:#CreateLicenseSession}

 Creates a new session for the given type.

 The `session_id` will be generated by the <a class='link' href='#ContentDecryptionModule'>ContentDecryptionModule</a>
 and can be used to reload the session after closing. If the
 `session_type` is not supported by the underlying DRM system, it will
 immediately close the `license_session`.

 + request `session_type` a field containing either
   <a class='link' href='#LicenseSessionType.TEMPORARY'>LicenseSessionType.TEMPORARY</a>,
   <a class='link' href='#LicenseSessionType.PERSISTENT_LICENSE'>LicenseSessionType.PERSISTENT_LICENSE</a> or
   <a class='link' href='#LicenseSessionType.PERSISTENT_USAGE_RECORD'>LicenseSessionType.PERSISTENT_USAGE_RECORD</a>
 + request `license_session` the server endpoint of the
   <a class='link' href='#LicenseSession'>LicenseSession</a>
 - response `session_id` an identifier that can be used to reload the
   session later (if persistent).

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>session_type</code></td>
            <td>
                <code><a class='link' href='#LicenseSessionType'>LicenseSessionType</a></code>
            </td>
        </tr><tr>
            <td><code>license_session</code></td>
            <td>
                <code>request&lt;<a class='link' href='#LicenseSession'>LicenseSession</a>&gt;</code>
            </td>
        </tr></table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>session_id</code></td>
            <td>
                <code>string</code>
            </td>
        </tr></table>

### LoadLicenseSession {:#LoadLicenseSession}

 Loads an existing session from storage using the given `session_id`.

 If the session is not found, then the `license_session` will be closed.

 + request `session_id` contains an identifier of which session should be
   loaded from storage.
 + request `license_session` the server endpoint of the
   <a class='link' href='#LicenseSession'>LicenseSession</a>.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>session_id</code></td>
            <td>
                <code>string</code>
            </td>
        </tr><tr>
            <td><code>license_session</code></td>
            <td>
                <code>request&lt;<a class='link' href='#LicenseSession'>LicenseSession</a>&gt;</code>
            </td>
        </tr></table>



### CreateDecryptor {:#CreateDecryptor}

 Creates a Decryptor <a class='link' href='../fuchsia.media/index.html'>fuchsia.media</a>/<a class='link' href='../fuchsia.media/index.html#StreamProcessor'>StreamProcessor</a> to be used to
 decrypt content.

 This `decryptor` would have access to the union of keys created by all
 the active sessions for this <a class='link' href='#ContentDecryptionModule'>ContentDecryptionModule</a>.

 + request `params` the parameters with which to create the `decryptor`.
 + request `decryptor` the server endpoint of the
   `fuchsia.media/StreamProcessor`.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>params</code></td>
            <td>
                <code><a class='link' href='#DecryptorParams'>DecryptorParams</a></code>
            </td>
        </tr><tr>
            <td><code>decryptor</code></td>
            <td>
                <code>request&lt;<a class='link' href='../fuchsia.media/index.html'>fuchsia.media</a>/<a class='link' href='../fuchsia.media/index.html#StreamProcessor'>StreamProcessor</a>&gt;</code>
            </td>
        </tr></table>



### GetKeyStatusForHdcpVersion {:#GetKeyStatusForHdcpVersion}

 Queries the status of a hypothetical key associated with an HDCP policy.

 This aids clients in determining which content type to fetch prior to
 establishing a <a class='link' href='#LicenseSession'>LicenseSession</a>. For example, if the device would
 restrict output for HDCP 1.x, then the client can choose to fetch SD
 content rather than HD.

 + request `hdcp_version` a field containing the HDCP version to check,
   such as "1.2" or "2.0".
 - response `key_status` a field indicating what the status of a
   hypothetical key would be for this device if one could be licensed.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>hdcp_version</code></td>
            <td>
                <code>string</code>
            </td>
        </tr></table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>key_status</code></td>
            <td>
                <code><a class='link' href='#KeyStatus'>KeyStatus</a></code>
            </td>
        </tr></table>

### GetSupportedEncryptionModes {:#GetSupportedEncryptionModes}

 Queries for the list of supported encryption modes.

 The common encryption modes include 'cenc', 'cbc1', 'cens', or 'cbcs'.

 - response `encryption_modes` a list of the supported encryption modes.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    </table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>encryption_modes</code></td>
            <td>
                <code>vector&lt;string&gt;</code>
            </td>
        </tr></table>

## LicenseSession {:#LicenseSession}
*Defined in [fuchsia.media.drm/license_session.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#67)*

 A protocol for exchanging messages pertaining to the establishment of a
 media license and the encryption keys associated with it.

 If the client closes the `LicenseSession`, any derived Decryptors will also
 be closed as the encryption keys will no longer be maintained.

### OnReady {:#OnReady}

 Indicates that the <a class='link' href='#LicenseSession'>LicenseSession</a> has successfully initialized.

 This is always the first message sent by the `LicenseSession`.



#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    </table>

### GenerateLicenseRequest {:#GenerateLicenseRequest}

 Generates a license request for a session based on the `init_data`.

 When the <a class='link' href='#LicenseMessage'>LicenseMessage</a> has been created, the
 `OnLicenseMessageGenerated` event will be triggered with the message to
 be sent to the license server.

 + request `init_data` container-specific data that is used to generate a
   <a class='link' href='#LicenseMessageType.REQUEST'>LicenseMessageType.REQUEST</a> `LicenseMessage`.
 * error an <a class='link' href='#Error'>Error</a> indicating the reason for failure.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>init_data</code></td>
            <td>
                <code><a class='link' href='#LicenseInitData'>LicenseInitData</a></code>
            </td>
        </tr></table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>result</code></td>
            <td>
                <code><a class='link' href='#LicenseSession_GenerateLicenseRequest_Result'>LicenseSession_GenerateLicenseRequest_Result</a></code>
            </td>
        </tr></table>

### GenerateLicenseRelease {:#GenerateLicenseRelease}

 Inititiates the release process for the license session.

 This will cause the <a class='link' href='#LicenseSession'>LicenseSession</a> to generate a <a class='link' href='#LicenseMessage'>LicenseMessage</a>
 through the `OnLicenseMessageGenerated` event. The client must route
 that message to the license server and the server's response to
 `ProcessLicenseServerMessage`. Once the `LicenseSession` has received
 the license server's reply, it will close the `LicenseSession` channel
 as this session will no longer be usable.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    </table>



### ProcessLicenseResponse {:#ProcessLicenseResponse}

 Updates the <a class='link' href='#LicenseSession'>LicenseSession</a> with a message from the license server.

 All responses from license requests, renewals, and releases should be
 routed to the `LicenseSession` through this method.

 + request `response` a message from the license server to update the
   state of the `LicenseSession`.
 * error an <a class='link' href='#Error'>Error</a> indicating the reason for failure.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>response</code></td>
            <td>
                <code><a class='link' href='#LicenseServerMessage'>LicenseServerMessage</a></code>
            </td>
        </tr></table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>result</code></td>
            <td>
                <code><a class='link' href='#LicenseSession_ProcessLicenseResponse_Result'>LicenseSession_ProcessLicenseResponse_Result</a></code>
            </td>
        </tr></table>

### CreateDecryptor {:#CreateDecryptor}

 Creates a Decryptor <a class='link' href='../fuchsia.media/index.html'>fuchsia.media</a>/<a class='link' href='../fuchsia.media/index.html#StreamProcessor'>StreamProcessor</a> to be used to
 decrypt content.

 This `decryptor` would be restricted to only having access to the
 keys maintained by this <a class='link' href='#LicenseSession'>LicenseSession</a>.

 + request `params` the parameters with which to create the `decryptor`.
 + request `decryptor` the server endpoint of the
   `fuchsia.media/StreamProcessor`.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>params</code></td>
            <td>
                <code><a class='link' href='#DecryptorParams'>DecryptorParams</a></code>
            </td>
        </tr><tr>
            <td><code>decryptor</code></td>
            <td>
                <code>request&lt;<a class='link' href='../fuchsia.media/index.html'>fuchsia.media</a>/<a class='link' href='../fuchsia.media/index.html#StreamProcessor'>StreamProcessor</a>&gt;</code>
            </td>
        </tr></table>



### OnLicenseMessageGenerated {:#OnLicenseMessageGenerated}

 Provides a <a class='link' href='#LicenseMessage'>LicenseMessage</a> that should be sent to the license server.

 The client is responsible for transporting this message to the license
 server.

 - response `request` a message from the `LicenseSession` that the client
   should send to the license server.



#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>request</code></td>
            <td>
                <code><a class='link' href='#LicenseMessage'>LicenseMessage</a></code>
            </td>
        </tr></table>

### OnKeysChanged {:#OnKeysChanged}

 Provides updated key status information.

 Some examples on when this might occur would be on license creation,
 expiration, renewal, or load of a persistent license session.

 - response `key_info` a list of the <a class='link' href='../fuchsia.media/index.html'>fuchsia.media</a>/<a class='link' href='../fuchsia.media/index.html#KeyId'>KeyId</a>s and their related
   <a class='link' href='#KeyStatus'>KeyStatus</a>es



#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>key_info</code></td>
            <td>
                <code>vector&lt;<a class='link' href='#KeyInfo'>KeyInfo</a>&gt;</code>
            </td>
        </tr></table>

## Provisioner {:#Provisioner}
*Defined in [fuchsia.media.drm/provisioning.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/provisioning.fidl#32)*

 A protocol for exchanging messages pertaining to the establishment of a
 provisioning certificate.

### GetStatus {:#GetStatus}

 Gets the current status of provisioning for this service instance.

 - response `status` indicates whether the service instance is
   sufficiently provisioned.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    </table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>status</code></td>
            <td>
                <code><a class='link' href='#ProvisioningStatus'>ProvisioningStatus</a></code>
            </td>
        </tr></table>

### SetServerCertificate {:#SetServerCertificate}

 Sets the certificate to be used for encrypting outgoing messages.

 + request `certificate` a buffer containing the certificate to be used.
 * error an <a class='link' href='#Error'>Error</a> indicating the reason for failure.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>certificate</code></td>
            <td>
                <code>vector&lt;uint8&gt;</code>
            </td>
        </tr></table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>result</code></td>
            <td>
                <code><a class='link' href='#Provisioner_SetServerCertificate_Result'>Provisioner_SetServerCertificate_Result</a></code>
            </td>
        </tr></table>

### GenerateProvisioningRequest {:#GenerateProvisioningRequest}

 Generates a provisioning request for this service instance.

 If the underlying DRM system requires provisioning for individual
 providers (the owner of the service instance), then this method can be
 used to generate <a class='link' href='#ProvisioningRequest'>ProvisioningRequest</a>s. This message must be routed
 to the provisioning server by the client and the server's response must
 be routed back to `ProcessProvisioningResponse`.

 - response `request` a `ProvisioningRequest` message to be provided to a
   provisioning server in order to receiving a provisioning certificate.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    </table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>request</code></td>
            <td>
                <code><a class='link' href='#ProvisioningRequest'>ProvisioningRequest</a></code>
            </td>
        </tr></table>

### ProcessProvisioningResponse {:#ProcessProvisioningResponse}

 Updates the <a class='link' href='#Provisioner'>Provisioner</a> with a message from the provisioning server.

 Not all underlying DRM systems will require provisioning for individual
 providers. If they do, this method will carry the provisioning message
 to the service instance so that it may persistently store the provider
 certificate.

 + request `response` a <a class='link' href='#ProvisioningResponse'>ProvisioningResponse</a> from the provisioning
   server. It should contain the provisioning certificate.
 * error an <a class='link' href='#Error'>Error</a> indicating the reason for failure.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>response</code></td>
            <td>
                <code><a class='link' href='#ProvisioningResponse'>ProvisioningResponse</a></code>
            </td>
        </tr></table>


#### Response
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>result</code></td>
            <td>
                <code><a class='link' href='#Provisioner_ProcessProvisioningResponse_Result'>Provisioner_ProcessProvisioningResponse_Result</a></code>
            </td>
        </tr></table>

### RemoveProvisioning {:#RemoveProvisioning}

 Removes all provider based provisioning for this service instance.

 Any active <a class='link' href='#ContentDecryptionModule'>ContentDecryptionModule</a>s on this service instance that
 relied on this provisioning will be closed, as they will no longer be
 usable without it. This does not impact any factory provisioning.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    </table>



## ClearKey {:#ClearKey}
*Defined in [fuchsia.media.drm/services.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/services.fidl#19)*

 A service hub providing access to the ClearKey key system. This key system
 is defined by the <a class='link' href='#W3C Encrypted Media Extensions'>W3C Encrypted Media Extensions</a>. It uses plain-text
 keys to decrypt the source.

 If the client closes the `ClearKey` channel, derived
 `ContentDecryptionModule`s will remain active.

 <a class='link' href='#W3C Encrypted Media Extensions'>W3C Encrypted Media Extensions</a>:
   https://www.w3.org/TR/encrypted-media

### CreateContentDecryptionModule {:#CreateContentDecryptionModule}

 Creates a new <a class='link' href='#ContentDecryptionModule'>ContentDecryptionModule</a>.

 + request `cdm` the server endpoint of the `ContentDecryptionModule`.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>cdm</code></td>
            <td>
                <code>request&lt;<a class='link' href='#ContentDecryptionModule'>ContentDecryptionModule</a>&gt;</code>
            </td>
        </tr></table>



## Widevine {:#Widevine}
*Defined in [fuchsia.media.drm/services.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/services.fidl#31)*

 A service hub providing access to the Widevine key system.

 If the client closes the `Widevine` channel, derived
 `ContentDecryptionModule`s and `Provision`s will remain active.

### CreateContentDecryptionModule {:#CreateContentDecryptionModule}

 Creates a new <a class='link' href='#ContentDecryptionModule'>ContentDecryptionModule</a>.

 The `ContentDecryptionModule`s created will share their persistent
 state, but will not share active sessions.

 + request `cdm` the server endpoint of the `ContentDecryptionModule`.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>cdm</code></td>
            <td>
                <code>request&lt;<a class='link' href='#ContentDecryptionModule'>ContentDecryptionModule</a>&gt;</code>
            </td>
        </tr></table>



### CreateProvisioner {:#CreateProvisioner}

 Creates a new <a class='link' href='#Provisioner'>Provisioner</a>.

 There can only be one active `Provisioner` for each service instance.

 + request `provisioner` the server endpoint of the `Provisioner`.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>provisioner</code></td>
            <td>
                <code>request&lt;<a class='link' href='#Provisioner'>Provisioner</a>&gt;</code>
            </td>
        </tr></table>



## PlayReady {:#PlayReady}
*Defined in [fuchsia.media.drm/services.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/services.fidl#53)*

 A service hub providing access to the PlayReady key system.

 If the client closes the `PlayReady` channel, derived
 `ContentDecryptionModule`s will remain active.

### CreateContentDecryptionModule {:#CreateContentDecryptionModule}

 Creates a new <a class='link' href='#ContentDecryptionModule'>ContentDecryptionModule</a>.

 The `ContentDecryptionModule`s created will share their persistent
 state, but will not share active sessions.

 + request `cdm` the server endpoint of the `ContentDecryptionModule`.

#### Request
<table>
    <tr><th>Name</th><th>Type</th></tr>
    <tr>
            <td><code>cdm</code></td>
            <td>
                <code>request&lt;<a class='link' href='#ContentDecryptionModule'>ContentDecryptionModule</a>&gt;</code>
            </td>
        </tr></table>





## **STRUCTS**

### ContentDecryptionModule_SetServerCertificate_Response {:#ContentDecryptionModule_SetServerCertificate_Response}
*generated*





<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr>
</table>

### LicenseSession_GenerateLicenseRequest_Response {:#LicenseSession_GenerateLicenseRequest_Response}
*generated*





<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr>
</table>

### LicenseSession_ProcessLicenseResponse_Response {:#LicenseSession_ProcessLicenseResponse_Response}
*generated*





<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr>
</table>

### LicenseInitData {:#LicenseInitData}
*Defined in [fuchsia.media.drm/license_session.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#36)*





<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr><tr>
            <td><code>type</code></td>
            <td>
                <code>string</code>
            </td>
            <td> The type is a string that indicates the format of the accompanying init
 data. Common types include "cenc", "keyids", "webm", and "hls". CDMs may
 also define their own.
</td>
            <td>No default</td>
        </tr><tr>
            <td><code>data</code></td>
            <td>
                <code>vector&lt;uint8&gt;</code>
            </td>
            <td></td>
            <td>No default</td>
        </tr>
</table>

### LicenseMessage {:#LicenseMessage}
*Defined in [fuchsia.media.drm/license_session.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#46)*



 A message originating from the <a class='link' href='#LicenseSession'>LicenseSession</a> that the caller must route
 to the license server.


<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr><tr>
            <td><code>type</code></td>
            <td>
                <code><a class='link' href='#LicenseMessageType'>LicenseMessageType</a></code>
            </td>
            <td></td>
            <td>No default</td>
        </tr><tr>
            <td><code>message</code></td>
            <td>
                <code><a class='link' href='../fuchsia.mem/index.html'>fuchsia.mem</a>/<a class='link' href='../fuchsia.mem/index.html#Buffer'>Buffer</a></code>
            </td>
            <td></td>
            <td>No default</td>
        </tr>
</table>

### LicenseServerMessage {:#LicenseServerMessage}
*Defined in [fuchsia.media.drm/license_session.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#53)*



 A message originating from the license server that the caller must provide
 to the <a class='link' href='#LicenseSession'>LicenseSession</a> via `ProcessLicenseServerMessage`.


<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr><tr>
            <td><code>message</code></td>
            <td>
                <code><a class='link' href='../fuchsia.mem/index.html'>fuchsia.mem</a>/<a class='link' href='../fuchsia.mem/index.html#Buffer'>Buffer</a></code>
            </td>
            <td></td>
            <td>No default</td>
        </tr>
</table>

### KeyInfo {:#KeyInfo}
*Defined in [fuchsia.media.drm/license_session.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#57)*





<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr><tr>
            <td><code>key_id</code></td>
            <td>
                <code><a class='link' href='../fuchsia.media/index.html'>fuchsia.media</a>/<a class='link' href='../fuchsia.media/index.html#KeyId'>KeyId</a></code>
            </td>
            <td></td>
            <td>No default</td>
        </tr><tr>
            <td><code>status</code></td>
            <td>
                <code><a class='link' href='#KeyStatus'>KeyStatus</a></code>
            </td>
            <td></td>
            <td>No default</td>
        </tr>
</table>

### Provisioner_SetServerCertificate_Response {:#Provisioner_SetServerCertificate_Response}
*generated*





<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr>
</table>

### Provisioner_ProcessProvisioningResponse_Response {:#Provisioner_ProcessProvisioningResponse_Response}
*generated*





<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr>
</table>

### ProvisioningRequest {:#ProvisioningRequest}
*Defined in [fuchsia.media.drm/provisioning.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/provisioning.fidl#16)*



 A message originating from the <a class='link' href='#Provisioner'>Provisioner</a> that the caller must route to
 the provisioning server.


<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr><tr>
            <td><code>default_provisioning_server_url</code></td>
            <td>
                <code>string?</code>
            </td>
            <td> An optional server to send the <a class='link' href='#ProvisioningRequest'>ProvisioningRequest</a> to. This field is
 not required to be set and the client is not required to use it if one
 is provided.
</td>
            <td>No default</td>
        </tr><tr>
            <td><code>message</code></td>
            <td>
                <code><a class='link' href='../fuchsia.mem/index.html'>fuchsia.mem</a>/<a class='link' href='../fuchsia.mem/index.html#Buffer'>Buffer</a></code>
            </td>
            <td></td>
            <td>No default</td>
        </tr>
</table>

### ProvisioningResponse {:#ProvisioningResponse}
*Defined in [fuchsia.media.drm/provisioning.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/provisioning.fidl#26)*



 A message originating from the provisioning server that the caller must
 provide to <a class='link' href='#Provisioner.ProcessProvisioningResponse'>Provisioner.ProcessProvisioningResponse</a>.


<table>
    <tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th></tr><tr>
            <td><code>message</code></td>
            <td>
                <code><a class='link' href='../fuchsia.mem/index.html'>fuchsia.mem</a>/<a class='link' href='../fuchsia.mem/index.html#Buffer'>Buffer</a></code>
            </td>
            <td></td>
            <td>No default</td>
        </tr>
</table>



## **ENUMS**

### KeyStatus {:#KeyStatus}
Type: <code>uint32</code>

*Defined in [fuchsia.media.drm/content_decryption.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/content_decryption.fidl#18)*



<table>
    <tr><th>Name</th><th>Value</th><th>Description</th></tr><tr>
            <td><code>USABLE</code></td>
            <td><code>0</code></td>
            <td></td>
        </tr><tr>
            <td><code>EXPIRED</code></td>
            <td><code>1</code></td>
            <td></td>
        </tr><tr>
            <td><code>RELEASED</code></td>
            <td><code>2</code></td>
            <td></td>
        </tr><tr>
            <td><code>OUTPUT_RESTRICTED</code></td>
            <td><code>3</code></td>
            <td></td>
        </tr><tr>
            <td><code>OUTPUT_DOWNSCALED</code></td>
            <td><code>4</code></td>
            <td></td>
        </tr><tr>
            <td><code>STATUS_PENDING</code></td>
            <td><code>5</code></td>
            <td></td>
        </tr><tr>
            <td><code>INTERNAL_ERROR</code></td>
            <td><code>6</code></td>
            <td></td>
        </tr></table>

### Error {:#Error}
Type: <code>uint32</code>

*Defined in [fuchsia.media.drm/error.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/error.fidl#15)*

 Standard error codes for DRM related protocols. The error code names
 originate from the <a class='link' href='#W3C Encrypted Media Extensions'>W3C Encrypted Media Extensions</a> specification to cover
 common CDM exception cases. CDM implementations might also provide
 application specific error codes, so long as they are positive 32 bit
 integers and do not overlap with this set.

 <a class='link' href='#W3C Encrypted Media Extensions'>W3C Encrypted Media Extensions</a>:
   https://www.w3.org/TR/encrypted-media


<table>
    <tr><th>Name</th><th>Value</th><th>Description</th></tr><tr>
            <td><code>TYPE</code></td>
            <td><code>1</code></td>
            <td></td>
        </tr><tr>
            <td><code>NOT_SUPPORTED</code></td>
            <td><code>2</code></td>
            <td></td>
        </tr><tr>
            <td><code>INVALID_STATE</code></td>
            <td><code>3</code></td>
            <td></td>
        </tr><tr>
            <td><code>QUOTA_EXCEEDED</code></td>
            <td><code>4</code></td>
            <td></td>
        </tr></table>

### LicenseSessionType {:#LicenseSessionType}
Type: <code>uint32</code>

*Defined in [fuchsia.media.drm/license_session.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#17)*



<table>
    <tr><th>Name</th><th>Value</th><th>Description</th></tr><tr>
            <td><code>TEMPORARY</code></td>
            <td><code>1</code></td>
            <td></td>
        </tr><tr>
            <td><code>PERSISTENT_LICENSE</code></td>
            <td><code>2</code></td>
            <td></td>
        </tr><tr>
            <td><code>PERSISTENT_USAGE_RECORD</code></td>
            <td><code>3</code></td>
            <td></td>
        </tr></table>

### LicenseMessageType {:#LicenseMessageType}
Type: <code>uint32</code>

*Defined in [fuchsia.media.drm/license_session.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#30)*



<table>
    <tr><th>Name</th><th>Value</th><th>Description</th></tr><tr>
            <td><code>REQUEST</code></td>
            <td><code>1</code></td>
            <td></td>
        </tr><tr>
            <td><code>RENEWAL</code></td>
            <td><code>2</code></td>
            <td></td>
        </tr><tr>
            <td><code>RELEASE</code></td>
            <td><code>3</code></td>
            <td></td>
        </tr></table>

### ProvisioningStatus {:#ProvisioningStatus}
Type: <code>uint32</code>

*Defined in [fuchsia.media.drm/provisioning.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/provisioning.fidl#9)*



<table>
    <tr><th>Name</th><th>Value</th><th>Description</th></tr><tr>
            <td><code>NOT_PROVISIONED</code></td>
            <td><code>1</code></td>
            <td></td>
        </tr><tr>
            <td><code>PROVISIONED</code></td>
            <td><code>2</code></td>
            <td></td>
        </tr></table>



## **TABLES**

### DecryptorParams {:#DecryptorParams}


*Defined in [fuchsia.media.drm/content_decryption.fidl](https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/content_decryption.fidl#28)*



<table>
    <tr><th>Ordinal</th><th>Name</th><th>Type</th><th>Description</th></tr>
    <tr>
            <td>1</td>
            <td><code>require_secure_mode</code></td>
            <td>
                <code>bool</code>
            </td>
            <td> Requires the decryptor <a class='link' href='../fuchsia.media/index.html'>fuchsia.media</a>/<a class='link' href='../fuchsia.media/index.html#StreamProcessor'>StreamProcessor</a> to only output
 to secure buffers.
</td>
        </tr><tr>
            <td>2</td>
            <td><code>input_details</code></td>
            <td>
                <code><a class='link' href='../fuchsia.media/index.html'>fuchsia.media</a>/<a class='link' href='../fuchsia.media/index.html#FormatDetails'>FormatDetails</a></code>
            </td>
            <td> Initial format details for the <a class='link' href='../fuchsia.media/index.html'>fuchsia.media</a>/<a class='link' href='../fuchsia.media/index.html#StreamProcessor'>StreamProcessor</a>.
</td>
        </tr></table>



## **UNIONS**

### ContentDecryptionModule_SetServerCertificate_Result {:#ContentDecryptionModule_SetServerCertificate_Result}
*generated*


<table>
    <tr><th>Name</th><th>Type</th><th>Description</th></tr><tr>
            <td><code>response</code></td>
            <td>
                <code><a class='link' href='#ContentDecryptionModule_SetServerCertificate_Response'>ContentDecryptionModule_SetServerCertificate_Response</a></code>
            </td>
            <td></td>
        </tr><tr>
            <td><code>err</code></td>
            <td>
                <code><a class='link' href='#Error'>Error</a></code>
            </td>
            <td></td>
        </tr></table>

### LicenseSession_GenerateLicenseRequest_Result {:#LicenseSession_GenerateLicenseRequest_Result}
*generated*


<table>
    <tr><th>Name</th><th>Type</th><th>Description</th></tr><tr>
            <td><code>response</code></td>
            <td>
                <code><a class='link' href='#LicenseSession_GenerateLicenseRequest_Response'>LicenseSession_GenerateLicenseRequest_Response</a></code>
            </td>
            <td></td>
        </tr><tr>
            <td><code>err</code></td>
            <td>
                <code><a class='link' href='#Error'>Error</a></code>
            </td>
            <td></td>
        </tr></table>

### LicenseSession_ProcessLicenseResponse_Result {:#LicenseSession_ProcessLicenseResponse_Result}
*generated*


<table>
    <tr><th>Name</th><th>Type</th><th>Description</th></tr><tr>
            <td><code>response</code></td>
            <td>
                <code><a class='link' href='#LicenseSession_ProcessLicenseResponse_Response'>LicenseSession_ProcessLicenseResponse_Response</a></code>
            </td>
            <td></td>
        </tr><tr>
            <td><code>err</code></td>
            <td>
                <code><a class='link' href='#Error'>Error</a></code>
            </td>
            <td></td>
        </tr></table>

### Provisioner_SetServerCertificate_Result {:#Provisioner_SetServerCertificate_Result}
*generated*


<table>
    <tr><th>Name</th><th>Type</th><th>Description</th></tr><tr>
            <td><code>response</code></td>
            <td>
                <code><a class='link' href='#Provisioner_SetServerCertificate_Response'>Provisioner_SetServerCertificate_Response</a></code>
            </td>
            <td></td>
        </tr><tr>
            <td><code>err</code></td>
            <td>
                <code><a class='link' href='#Error'>Error</a></code>
            </td>
            <td></td>
        </tr></table>

### Provisioner_ProcessProvisioningResponse_Result {:#Provisioner_ProcessProvisioningResponse_Result}
*generated*


<table>
    <tr><th>Name</th><th>Type</th><th>Description</th></tr><tr>
            <td><code>response</code></td>
            <td>
                <code><a class='link' href='#Provisioner_ProcessProvisioningResponse_Response'>Provisioner_ProcessProvisioningResponse_Response</a></code>
            </td>
            <td></td>
        </tr><tr>
            <td><code>err</code></td>
            <td>
                <code><a class='link' href='#Error'>Error</a></code>
            </td>
            <td></td>
        </tr></table>







## **CONSTANTS**

<table>
    <tr><th>Name</th><th>Value</th><th>Type</th><th>Description</th></tr><tr>
            <td><a href="https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/content_decryption.fidl#13">ENCRYPTION_MODE_CENC</a></td>
            <td><code>cenc</code></td>
                    <td><code>String</code></td>
            <td></td>
        </tr>
    <tr>
            <td><a href="https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/content_decryption.fidl#14">ENCRYPTION_MODE_CBC1</a></td>
            <td><code>cbc1</code></td>
                    <td><code>String</code></td>
            <td></td>
        </tr>
    <tr>
            <td><a href="https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/content_decryption.fidl#15">ENCRYPTION_MODE_CENS</a></td>
            <td><code>cens</code></td>
                    <td><code>String</code></td>
            <td></td>
        </tr>
    <tr>
            <td><a href="https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/content_decryption.fidl#16">ENCRYPTION_MODE_CBCS</a></td>
            <td><code>cbcs</code></td>
                    <td><code>String</code></td>
            <td></td>
        </tr>
    <tr>
            <td><a href="https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#12">LICENSE_INIT_DATA_TYPE_CENC</a></td>
            <td><code>cenc</code></td>
                    <td><code>String</code></td>
            <td></td>
        </tr>
    <tr>
            <td><a href="https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#13">LICENSE_INIT_DATA_TYPE_KEYIDS</a></td>
            <td><code>keyids</code></td>
                    <td><code>String</code></td>
            <td></td>
        </tr>
    <tr>
            <td><a href="https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#14">LICENSE_INIT_DATA_TYPE_WEBM</a></td>
            <td><code>webm</code></td>
                    <td><code>String</code></td>
            <td></td>
        </tr>
    <tr>
            <td><a href="https://fuchsia.googlesource.com/fuchsia/+/master/sdk/fidl/fuchsia.media.drm/license_session.fidl#15">LICENSE_INIT_DATA_TYPE_HLS</a></td>
            <td><code>hls</code></td>
                    <td><code>String</code></td>
            <td></td>
        </tr>
    
</table>

